<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
const express = require("express");
const bodyParser = require("body-parser");

const app = express();
app.use(bodyParser.json());

const symbols = ["üçí", "üçã", "üçä", "üçâ", "‚≠ê", "üîî"];

app.post("/slot-spin", (req, res) => {
  let balance = req.body.variables?.balance || 5000;
  
  if (balance < 50) {
    return res.json({ message: "‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!" });
  }

  balance -= 50;
  const result = [randSymbol(), randSymbol(), randSymbol()];
  let win = result[0] === result[1] && result[1] === result[2];

  if (win) balance += 100;

  res.json({
    message: `üé∞ ${result.join(" | ")}\n${win ? "üéâ –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏! +100" : "üò¢ –ù–µ—É–¥–∞—á–∞! -50"}\nüí∞ –ë–∞–ª–∞–Ω—Å: ${balance}`,
    variables: { balance }
  });
});

function randSymbol() {
  return symbols[Math.floor(Math.random() * symbols.length)];
}

app.listen(process.env.PORT || 3000, () => console.log("–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω"));
